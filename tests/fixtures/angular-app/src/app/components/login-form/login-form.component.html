<!-- src/app/components/login-form/login-form.component.html -->

<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
  <h2>Login</h2>

  <div *ngIf="error" class="form-error">{{ error }}</div>

  <div class="form-group">
    <label for="email">Email</label>
    <input
      id="email"
      type="email"
      formControlName="email"
      placeholder="Enter your email"
      [class.is-invalid]="email?.invalid && email?.touched"
    />
    <div *ngIf="email?.invalid && email?.touched" class="field-error">
      {{ getEmailError() }}
    </div>
  </div>

  <div class="form-group">
    <label for="password">Password</label>
    <div class="password-input">
      <input
        id="password"
        [type]="showPassword ? 'text' : 'password'"
        formControlName="password"
        placeholder="Enter your password"
        [class.is-invalid]="password?.invalid && password?.touched"
      />
      <button
        type="button"
        (click)="togglePasswordVisibility()"
        class="password-toggle"
      >
        {{ showPassword ? 'Hide' : 'Show' }}
      </button>
    </div>
    <div *ngIf="password?.invalid && password?.touched" class="field-error">
      {{ getPasswordError() }}
    </div>
  </div>

  <button
    type="submit"
    [disabled]="isLoading"
    class="btn btn--primary btn--block"
  >
    {{ isLoading ? 'Logging in...' : 'Login' }}
  </button>

  <p class="login-form__footer">
    Don't have an account?
    <a routerLink="/register">Register</a>
  </p>
</form>
